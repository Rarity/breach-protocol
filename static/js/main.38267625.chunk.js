(this["webpackJsonpbreach-protocol"]=this["webpackJsonpbreach-protocol"]||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n(0),c=n.n(i),o=n(17),a=n.n(o),s=n(3),u=n(4),l=n(9),h=n(23),d=n(7);function f(){var e=Object(s.a)(["\n  position: relative;\n  display: inline-block;\n  width: 60px;\n  padding: 2px;\n  text-transform: uppercase;\n  text-align: center;\n  font-size: 4rem;\n  color: ",";\n  background-color: ",";\n\n  &:hover&:after {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    border: 1px dashed var(--primary-color-dark);\n  }\n"]);return f=function(){return e},e}var b=u.a.span(f(),(function(e){return e.color}),(function(e){return e.backgroundColor})),j=Object(d.a)((function(e){var t=e.children,n=e.disabled,c=e.selected,o=e.completed,a=e.onClick,s=Object(h.a)(e,["children","disabled","selected","completed","onClick"]),u=Object(i.useCallback)((function(){return n?"var(--disabled-color-dark)":"var(--primary-color)"}),[n]),d=Object(i.useCallback)((function(){return n?"var(--disabled-color)":o?"var(--sucess-color)":c?"var(--active-color)":"initial"}),[n,o,c]);return Object(r.jsx)(b,Object(l.a)(Object(l.a)({color:u,backgroundColor:d,isDisabled:n},s),{},{onClick:n?null:a,children:t}))})),v=n(8),m=n.n(v);function x(){var e=Object(s.a)(["\n  display: flex;\n  flex-direction: ",";\n  flex-wrap: ",";\n  justify-content: ",";\n  align-items: ",";\n\n  & > *:not(:last-child) {\n    margin-bottom: ",";\n  }\n"]);return x=function(){return e},e}var p=u.a.div(x(),(function(e){return e.direction}),(function(e){return e.wrap}),(function(e){return e.justify}),(function(e){return e.align}),(function(e){return"".concat(e.spacing,"rem")}));p.propTypes={direction:m.a.string,wrap:m.a.string,justify:m.a.string,align:m.a.string,spacing:m.a.number},p.defaultProps={direction:"row",wrap:"nowrap",justify:"flex-start",align:"flex-start",spacing:0};var g=p,O=n(5),y=n(6),k=n(24),_=n(21),C=function(e){Object(k.a)(n,e);var t=Object(_.a)(n);function n(e){var r;return Object(O.a)(this,n),(r=t.call(this,e)).state={hasError:!1},r}return Object(y.a)(n,[{key:"componentDidCatch",value:function(e,t){console.log("componentDidCatch : ",e,t)}},{key:"render",value:function(){return this.state.hasError?Object(r.jsx)("h1",{children:"Something went wrong."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return console.log("error :",e),{hasError:!0}}}]),n}(i.Component),w=n(2),E=Object.freeze({created:"CREATED",started:"STARTED",finished:"FINISHED"}),M=Object.freeze({row:"ROW",column:"COLUMN"}),q=function(){function e(t,n,r){if(Object(O.a)(this,e),!t.isEmpty())throw Error("Buffer must be empty");if(this.buffer=t,0===n.length)throw Error("At least one sequence must be provided");this.sequences=n,this.matrix=r,this.selectedIndex=0,this.history=[],Object(w.k)(this)}return Object(y.a)(e,[{key:"create",value:function(){this.state=E.created}},{key:"select",value:function(e,t){if(this.history.includes("".concat(e,":").concat(t)))throw Error("Cannot select an already visited cell");if(this.selectionMode===M.row&&e!==this.selectedIndex)throw Error("Selected row must be ".concat(this.selectedIndex));if(this.selectionMode===M.column&&t!==this.selectedIndex)throw Error("Selected column must be ".concat(this.selectedIndex));var n=this.matrix[e][t];return this.selectedIndex=this.selectionMode===M.row?t:e,this.buffer.addEntry(n),this.history.push("".concat(e,":").concat(t)),n}},{key:"state",get:function(){return this.buffer.isFull()?E.finished:this.state}},{key:"selectionMode",get:function(){return this.buffer.position%2===0?M.row:M.column}}]),e}(),I=n(15),S=n.n(I);function D(){var e=Object(s.a)(["\n  background-color: var(--primary-color);\n"]);return D=function(){return e},e}function F(){var e=Object(s.a)(["\n  border: 1px solid var(--primary-color);\n"]);return F=function(){return e},e}var A=u.a.div(F()),T=u.a.div(D()),B=Object(d.a)((function(e){var t=e.matrix,n=e.selectedIndex,c=e.selectionMode,o=e.onCellClick,a=e.history,s=Object(i.useCallback)((function(e,t){return function(){o(e,t)}}),[o]);return Object(r.jsxs)(A,{children:[Object(r.jsx)(T,{colSpan:t.length,children:"CODE MATRIX"}),t.map((function(e,t){return Object(r.jsx)("div",{children:e.map((function(e,i){return Object(r.jsx)(j,{onClick:s(t,i),disabled:a.includes("".concat(t,":").concat(i)),selected:c===M.row&&n===t||c===M.column&&n===i,children:e},S.a.generate())}))},S.a.generate())}))]})})),R=n(22);function z(){var e=Object(s.a)(["\n  min-height: 52px;\n  min-width: ",";\n  border: 1px solid var(--primary-color);\n"]);return z=function(){return e},e}var H=u.a.aside(z(),(function(e){return"calc(60px * ".concat(e.size,")")})),P=Object(d.a)((function(e){var t=e.capacity,n=e.values;return console.log("Buffer ; ",Object(w.m)(n)),Object(r.jsx)(H,{size:t,children:Object(R.a)(Array(t)).map((function(e,t){return t>=n.length?null:Object(r.jsx)(j,{children:n[t]||null},t)}))})})),W=function(e){var t=e.sequences;return Object(r.jsx)(g,{direction:"column",children:t.map((function(e){return Object(r.jsx)(P,{capacity:e.length,values:e})}))})},L=Object(d.a)((function(e){var t=e.game;return Object(r.jsxs)(g,{children:[Object(r.jsx)(B,{matrix:t.matrix,selectedIndex:t.selectedIndex,selectionMode:t.selectionMode,history:t.history,onCellClick:function(e,n){t.select(e,n)}}),Object(r.jsxs)(g,{direction:"column",spacing:1,children:[Object(r.jsx)(P,Object(l.a)({},t.buffer)),Object(r.jsx)(W,{sequences:t.sequences})]})]})})),J=function(){function e(t){Object(O.a)(this,e),this.capacity=t,this.values=[],Object(w.k)(this)}return Object(y.a)(e,[{key:"isEmpty",value:function(){return 0===this.values.length}},{key:"isFull",value:function(){return this.values.length===this.capacity}},{key:"addEntry",value:function(e){if(this.isFull())throw Error("Buffer is full");this.values.push(e)}},{key:"containsSequence",value:function(e){return this.values.join("").includes(e.join(""))}},{key:"position",get:function(){return this.values.length}}]),e}(),N=["55","1C","E7","BD","F9","K3","L1"];function K(){return N[U(0,N.length)]}function U(e,t){return Math.floor(Math.random()*(t-e))+e}function X(e,t){var n=U(0,e.length-t+1);return e.slice(n,n+t)}var G=function(){function e(t,n,r){Object(O.a)(this,e),this._sequence=Array.from({length:t},(function(e){return K()})),this._matrixHeight=n,this._matrixWidth=r,this._sequences=[X(this._sequence,2),X(this._sequence,3),X(this._sequence,4)],this._matrix=this._createMatrix()}return Object(y.a)(e,[{key:"generate",value:function(){this._fillCriticalPath(),this._fillMatrix()}},{key:"getMatrix",value:function(){return this._matrix}},{key:"getSequences",value:function(){return this._sequences}},{key:"_createMatrix",value:function(){var e=this;return Array.from({length:this._matrixHeight},(function(t){return Array.from({length:e._matrixWidth},(function(e){return null}))}))}},{key:"_fillCriticalPath",value:function(){for(var e=[0,0],t=!0,n=0;n<this._sequence.length;n++)e=this._getRandomEmptyCellInMatrix(e,t),this._matrix[e[0]][e[1]]=this._sequence[n],t=!t}},{key:"_getRandomEmptyCellInMatrix",value:function(e,t){var n=e;if(t)for(;null!=this._matrix[n[0]][n[1]];)n=[e[0],U(0,this._matrixWidth)];else for(;null!=this._matrix[n[0]][n[1]];)n=[U(0,this._matrixHeight),e[1]];return n}},{key:"_fillMatrix",value:function(){for(var e=0;e<this._matrixHeight;e++)for(var t=0;t<this._matrixWidth;t++)null==this._matrix[e][t]&&(this._matrix[e][t]=K())}}]),e}();function Q(){var e=Object(s.a)(["\n  border: 1px solid var(--primary-color);\n  height: 100%;\n  padding: 4%;\n"]);return Q=function(){return e},e}var V=u.a.main(Q());var Y=function(){var e=new J(8),t=new G(8,5,5);t.generate();var n=t.getSequences(),i=t.getMatrix(),c=new q(e,n,i);return Object(r.jsx)(C,{children:Object(r.jsx)(V,{children:Object(r.jsx)(L,{game:c})})})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,45)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),c(e),o(e)}))};n(43);a.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(Y,{})}),document.getElementById("root")),Z()}},[[44,1,2]]]);
//# sourceMappingURL=main.38267625.chunk.js.map